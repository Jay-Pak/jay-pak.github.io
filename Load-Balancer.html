<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Google Cloud Load Balancer</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css"/>
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="My Study Space...." />
    <link rel="shortcut icon" href="https://jay-pak.github.io/assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="https://jay-pak.github.io/Load-Balancer" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="To Be Continue....." />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Google Cloud Load Balancer" />
    <meta property="og:description" content="Google Cloud Load Balancer Load Balancer? Load Balancer(부하 분산기)는 왜 필요 할까? 만약, 이글을 읽고 있는 당신이 인터넷 Shopping Mall을 운영 한다고 가정을 하자. 인터넷 쇼핑몰을 운영 하기 위해서는 당연한 이야기지만 Web Application이나 Mobile App이 필요 할 것이다. 그리고, 주문을 받거나, Contents를 저장할 Database나 Storage등이 필요 할 것이다. 여기서 만약" />
    <meta property="og:url" content="https://jay-pak.github.io/Load-Balancer" />
    <meta property="og:image" content="https://jay-pak.github.io/assets/images/blog-cover.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/ITLimited" />
    <meta property="article:author" content="https://www.facebook.com/ITLimited" />
    <meta property="article:published_time" content="2018-12-03T00:00:00+09:00" />
    <meta property="article:modified_time" content="2018-12-03T00:00:00+09:00" />
    <meta property="article:tag" content="Infrastructure" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Google Cloud Load Balancer" />
    <meta name="twitter:description" content="Google Cloud Load Balancer Load Balancer? Load Balancer(부하 분산기)는 왜 필요 할까? 만약, 이글을 읽고 있는 당신이 인터넷 Shopping Mall을 운영 한다고 가정을 하자. 인터넷 쇼핑몰을 운영 하기 위해서는 당연한 이야기지만 Web Application이나 Mobile App이 필요 할 것이다. 그리고, 주문을 받거나, Contents를 저장할 Database나 Storage등이 필요 할 것이다. 여기서 만약" />
    <meta name="twitter:url" content="https://jay-pak.github.io/" />
    <meta name="twitter:image" content="https://jay-pak.github.io/assets/images/blog-cover.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="To Be Continue....." />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Infrastructure" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "To Be Continue.....",
        "logo": "https://jay-pak.github.io/"
    },
    "url": "https://jay-pak.github.io/Load-Balancer",
    "image": {
        "@type": "ImageObject",
        "url": "https://jay-pak.github.io/assets/images/blog-cover.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://jay-pak.github.io/Load-Balancer"
    },
    "description": "Google Cloud Load Balancer Load Balancer? Load Balancer(부하 분산기)는 왜 필요 할까? 만약, 이글을 읽고 있는 당신이 인터넷 Shopping Mall을 운영 한다고 가정을 하자. 인터넷 쇼핑몰을 운영 하기 위해서는 당연한 이야기지만 Web Application이나 Mobile App이 필요 할 것이다. 그리고, 주문을 받거나, Contents를 저장할 Database나 Storage등이 필요 할 것이다. 여기서 만약"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Google Cloud Load Balancer" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://jay-pak.github.io/">To Be Continue.....</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/getting-started/">Getting Started</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/g-suite/">G Suite</a></li>
    <li class="nav-IaaS" role="menuitem"><a href="/tag/infrastructure/">Infrastructure</a></li>
    <li class="nav-bigquery" role="menuitem"><a href="/tag/bigdata/">Big Data</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/ITLimited" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 3 December 2018"> 3 December 2018</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/infrastructure/'>INFRASTRUCTURE</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Google Cloud Load Balancer</h1>
            </header>

            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h1 id="google-cloud-load-balancer">Google Cloud Load Balancer</h1>

<h2 id="load-balancer">Load Balancer?</h2>

<p>Load Balancer(부하 분산기)는 왜 필요 할까? 만약, 이글을 읽고 있는 당신이 인터넷 Shopping Mall을 운영 한다고 가정을 하자. 인터넷 쇼핑몰을 운영 하기 위해서는 당연한 이야기지만 Web Application이나 Mobile App이 필요 할 것이다. 그리고, 주문을 받거나, Contents를  저장할 Database나 Storage등이 필요 할 것이다. 여기서 만약 쇼핑몰이 장사가 잘 안된다면? 그리고, 들어오는 사람이 많이 없다면? 좋은 인프라가 필요 없을 것이다. 하지만, 시간이 흘러 입소문을 타면서 쇼핑몰에 들어오는 사람이 많아진다면? 쇼핑몰 운영자인 당신은 Hardware의 Up-grade(Scale-up)을 먼저 생각 할 것이다. 하지만 이것은 임시 방편에 불과 하다. Hardware의 성능을 더 올린다고 해서</p>

<p>오늘은 Load Balancer에 대해 이야기 해보려고 한다.</p>

<p>Google Cloud의 Network Load Balancer는 Region Base로 지원 하며, L3, L7 Loadbalencer를 지원한다.</p>

<ul>
  <li>Cloud Shell
    <ul>
      <li>Cloud Shell은 사용자가 필요한 모든 개발 Tool이 설치된  VM(Virtual Machine)을 불러 온다.</li>
      <li>5GB의 Persistant Disk를 가지고, Google Cloud위에서 동작 하며, 네트워크 성능과 인증을 크게 향상 시킨다.</li>
      <li>Cloud Shell에 처음 연결 하면 이미 인증이 된 상태를 볼수 있고, 자신의 PROJECT_ID가 설정 되어 있고, 확인은 아래 명령으로 확인 할 수 있다. 
​    – gcloud  auth list 
​              – Credentialed accounts:
​                   - <myaccount>@<mydomain>.com (active)    
​    -- gcloud config list project 
​              -- [core]
​                  project = <PROJECT_ID></PROJECT_ID></mydomain></myaccount></li>
    </ul>
  </li>
</ul>

<p>** gcloud <Cloud SDK=""></Cloud></p>
<ul>
  <li><code class="highlighter-rouge">gcloud</code>는 Google Cloud Platform을 위한 강력 하며, 통일된 Command-list Tool 이다. 자세한 내용은 https://cloud.google.com/sdk/gcloud에서 확인 할 수 있다. 이것은 이미 Cloud shell에 이미 설치 된 상태로 제공 되며, Local PC에 설치를 위해서는 이 블로그의 <Cloud SDK="" 설치="">를 참조 하기 바란다.</Cloud></li>
</ul>

<hr />

<p>** 모든 Resource를 위한 Default  Region과 zone 설정 하기 
​      1. Cloud shell에서 Default Region or Zone을 설정 하려면 
​       - gcloud config set compute/zone <zone_name>
​       - gcloud config set compute/region <region_name>
​          *** Google이 제공하고 있는 Region/Zone의 List를 확인 하고 싶다면, 
​          ​        - gcloud compute regions list 
​          ​        - gcloud compute zones list 
​          1-1. Region 설정 하기 
​        - gcloud config set compute/zone asia-northeast1-a 
​        - gcloud config set compute/region asia-northeast1
​          *** 개인 PC에서 gcloud를 사용할 때, config setting은 여러 session에서 지속적으로 적용 된다. Cloud Shell에서는 새로운 연결이나 재 연결시 설정을 해주어야 한다.</region_name></zone_name></p>

<p>** Multiful Web Server Instance  생성 하기
​      1. Cluster 환경에서 Service를 Test하려면,. Instance Template 및 Managed Instance Group을 사용하여 nginx Web Server로 간단한 Cluster를 생성해서  Test하면 된다. Instance Template은 Cluster 내에 모든 Virtual Machine의  Template을 정의 한다. (Disk, CPU, Memory등) Managed Instance Group은 
​      Instance Template을 이용하여 Virtual Machine을 Instance 화 한다.</p>

<p>nGinx Web server Cluster 를 만들기 위해서는 다음과 같은 준비가 필요하다. 
​                1. 모든 Virtual Machine Instance가 시작 될 때 Nginx Server 를 설정하는데 사용되는 Start up Script 
​                2. 시작 Script를 사용하기 위한 Instance Template
​                3. Target Pool 
​                4. Instance Template을 사용한 Managed Instance Group</p>

<ol>
  <li>
    <p>Nginx Server 설정을 위한 Start up Script 만들기 
   ​     - Cloud Shell을 열어 아래와 같은 절차로 shell File을 생성 한다.</p>

    <p>================================================
  cat « EOF &gt; startup.sh
  #! /bin/bash
  apt-get update
  apt-get install -y nginx
  service nginx start
  sed -i – ‘s/nginx/Google Cloud Platform - ‘”$HOSTNAME”’/’   \
  /var/www/html/index.nginx-debian.html
  EOF
  ================================================</p>
  </li>
  <li>
    <p>Instance Template을 생성한다. 
  ================================================
  gcloud compute instance-templates create nginx-cluster-template \</p>

    <p>–metadata-from-file startup-script=startup.sh 
  ================================================</p>
  </li>
  <li>
    <p>Target pool 생성 
  Target Pool은 모든 Instance Template을 이용하여 생성된 VM Instance에 대해 단일한 Access Point를 제공/허용하며, 이후 Load Balancer에서 필요하다. 
  ================================================
  gcloud compute target-pools create nginx-pool
  ================================================</p>
  </li>
  <li>
    <p>앞서 생성한 Instance Template을 이용한 Managed Instance Group 생성 
  ================================================
  gcloud compute instance-groups managed create nginx-group \
  –base-instance-name nginx \
  –size 2 \
  –template nginx-cluster-template \</p>

    <p>–target-pool nginx-pool 
  ================================================</p>
  </li>
</ol>

<p>위와 같은 절차를 거치고 나면 <code class="highlighter-rouge">nginx-</code>라는  prefix로 2개의 instance가 생성이 된것을 볼 수 있다.</p>

<p>모든 작업이 완료 되고 나면, 아래 명령으로 VM Instance 생성을 확인 해 보도록 한다. 
​     ================================================
​     gcloud compute instances list 
​     ================================================</p>

<p>외부 IP를 통해 80 port로 연결 할 수 있는 방화벽을 구성하도록 한다. 
​     ================================================
​     gcloud compute firewall-rules create www-firewall –allow tcp:80
​     ================================================
작업이 완료 되고 나면 각 instance의 외부  IP를 통해 Instance에 연결 할 수 있어야 한다. local pc 에서 http://EXTERNAL_IP를 통해 확인 해보록 한다.</p>

<p>Newwork Balancer 생성하기 (L3)
Network Load Balancer를 이용하면  IP Address, Port 및 Protocol 유형과 같이 인입되는 IP Protocol Data를 기반으로 System의 부하를 분산할 수 있다. 
하지만, HTTP Load Balancer와 함께 사용할 수 없는 몇가지 Option이 있다. 
예를 들면, SMTP Traffic과 같이 추가 적인 TCP/UDP기반 Protocol을 Local Balancing 할 수 있다. 그리고 Application이 TCP-Connection-related 관련 특성에 대해 HTTP Network Load Balencer와는 달리  Application 이 Packet을 검사 할 수 있다. 자세한 내용은 https://cloud.google.com/load-balancing/docs/network/에서 확인 할 수 있다.</p>

<p>아래 Script를 통해 앞서 생성한 Instance Group에 L3(Network Layer) Network Load Balancer를 생성한다. 
​     ================================================
​      gcloud compute forwarding-rules create nginx-lb \
​         –region asia-northeast1 \
​         –ports=80 \
​         –target-pool nginx-pool
​     ================================================
생성 후 Instance group의 forwarding rule을 확인 한다. 
​     ================================================
​     gcloud compute forwarding-rules list
​     ================================================</p>

<p>위 Command를 통해 확인된 IP Addess를 통해 접속이 가능한지 확인하도록 한다. 
​     ================================================
​     NAME     REGION       IP_ADDRESS     IP_PROTOCOL TARGET
​     nginx-lb  us-central1  X.X.X.X              TCP                    us-central1/targetPools/nginx-pool
​     ================================================
Browser를 열어 http://[IP_ADDRESS]를 통해 확인 해보록 한다.</p>

<p>HTTP(S) Load Balancer 생성하기 (L7)
HTTP(S) Load Balancer는 Compute Engine Instance에 인입 되는 HTTP(S) 요청(Request)에 대해 Global Load Balancing을 지원 한다. 일부의  URL을 하나의 Instance Set으로 Routing 하고, 다른 URL을 다른 Instance로 Routing 하는 URL Rule을 구성 할 수있다. 요청들은 조건에 부합하고, 충분한 capacity가 있는 경우 항상 가까운 instance group에 Routing 된다. 가장 가까운 Instance Group 의 용량이 충분 하지 않은 경우 가장 가까운 Instance Group으로 전달 된다. 자세한 내용은 https://cloud.google.com/compute/docs/load-balancing/http/ 에서 확인 해보도록 한다.</p>

<ol>
  <li>Health check 생성.
    <ul>
      <li>
        <h1 id="health-check는-httphttps-traffic에-응답하는지-확인-한다">Health Check는 HTTP/HTTPS Traffic에 응답하는지 확인 한다.</h1>
        <p>gcloud compute http-health-checks create http-basic-check 
================================================</p>
      </li>
    </ul>
  </li>
  <li>
    <p>HTTP Service를 정의하고, Port 이름을 Instance Group에 관련된 Port에 Mapping 한다. 
  ================================================
  gcloud compute instance-groups managed \
    set-named-ports nginx-group \</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--named-ports http:80   ================================================
</code></pre></div>    </div>
  </li>
  <li>
    <p>Back-end Service 생성 
  ================================================
  gcloud compute backend-services create nginx-backend \</p>

    <p>–protocol HTTP –http-health-checks http-basic-ckeck –global 
  ================================================</p>
  </li>
  <li>
    <p>back-end Service에 instance Group을 추가 한다. 
  ================================================
  gcloud compute backend-services add-backend nginx-backend \
  –instance-group nginx-cluster-group \
  –instance-group-zone asia-northeast1-a \</p>

    <p>–global 
  ================================================</p>
  </li>
  <li>
    <p>들어오는 모든 Request들을 모든 Instance로 보내는 Default URL Map을 만든다. 
 ================================================
 gcloud compute url-maps create web-map \</p>

    <p>–default-service nginx-backend
 ================================================</p>
  </li>
  <li>앞서 생성한 Default URL Map에 요청을 Route하는 Target HTTP Proxy를 생성한다. 
  ================================================
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  gcloud compute target-http-proxies create http-lb-proxy \
  --url-map web-map
     
     
</code></pre></div>    </div>
  </li>
  <li>
    <p>인입되는 요청을 처리하고 Route하는 Global forwarding Rule을 만든다. 전달 규칙은 IP Address및 Protocol 및 지정 Port에 따라 Traffic을 특정 Target HTTP/HTTPS Proxy 로 보낸다. Global Forwarding Rule은 여러 포트를 지원하지 않는다. 
  ================================================
  gcloud compute forwarding-rules create http-content-rule \
     –global \
     –target-http-proxy http-lb-proxy --ports 80</p>

    <p>Global forwarding Rule을 만든 후에 Config가 Provisioning되기까지는 시간이 걸릴 수 있다. 아래에서 확인 하도록 한다.</p>

    <p>gcloud compute forwarding-rules list
  ================================================
  전달 규칙에 대해 http-content-rule에 명시된 IP_ADDRESS를 기억 한다.</p>
  </li>
</ol>

<p>browser 에서 http://IP_ADDRESS를 통해 연결을 시도 해보도록 한다. 모든 전달 규칙이 적용 되는데는 몇분이 걸리기때문에 안 될 시에 다시 load를 해보도록 한다.</p>

                </div>
            </section>


            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/Icons/Products-Services/Compute/Compute-Engine.svg" alt="compute-engine" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/compute-engine">Compute Engine</a></h4>
                                
                                    <p>Google이 제공하는 확장 가능한 고성능 VM</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/compute-engine">Read More</a>
                        </div>
                    
                
                    
                
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'https://jay-pak.github.io/';
                            this.page.identifier = 'To Be Continue.....';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://jaypak.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; To Be Continue..... &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/infrastructure/">Infrastructure</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Google-Cloud-Compute-Engine-Usage-2">Google Cloud Compute Engine (2) - Compute Engine Instance 생성</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/infrastructure/">
                                
                                    See all 1 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card  no-image">
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Lotte-Members">
                <header class="post-card-header">
                    

                    <h2 class="post-card-title">Lotte Members</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>Chat Bot 관련 Meeting


  관련 내용 공유
  Lotte Members
    
      상담원 Recommend
      Admin, 상담원, 자연어
      자연어 처리 Model
        
          문장 유사도
          Topic Model
          문서 검색엔진
        
      
    
  


</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://jay-pak.github.io/">
            
                <img src="/assets/images/Icons/Products-Services/Extras/Google-Cloud-Platform_lockup.svg" alt="To Be Continue..... icon" />
            
            <span>To Be Continue.....</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Google Cloud Load Balancer</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Google+Cloud+Load+Balancer&amp;url=https://jay-pak.github.ioLoad-Balancer"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://jay-pak.github.ioLoad-Balancer"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://jay-pak.github.io/">To Be Continue.....</a> &copy; 2018</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    <a href="https://facebook.com/ITLimited" target="_blank" rel="noopener">Facebook</a>
                    
                    <a href="https://jay-pak.github.io/" target="_blank" rel="noopener">Jay Park</a>
                </nav>
            </div>
        </footer>

    </div>


    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Search to To Be Continue.....</h1>
                <p class="subscribe-overlay-description">Blog 내 검색</p>
                <!-- <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>
 -->
 <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?q=" + url;
            }
        }
    </script>
</span>
            </div>
        </div>
    
    
    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-125341308-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
